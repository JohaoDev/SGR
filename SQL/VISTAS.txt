CREATE OR REPLACE FORCE VIEW "V_SOLICITUDES" ("CARG_DES", "ESTR_DES", "PERS_NOM", "SOLI_SEC", "SOLI_ASU", "SOLI_DES", "SOLI_NUM", "SOLI_TIP", "SOLI_EST", "SOLI_BAS_CON", "SOLI_SOL", "SOLO_PRI", "SOLO_IMP", "SOLI_EXT", "SOLI_VNC", "SOLI_FEC", "SOLI_FEC_FIN", "REQU_SEC", "ESTR_SEC_ORI", "ESTR_SEC_DES", "PERS_SEC", "SOLI_SEG_SEC") AS 
  select V_PERSONA.CARG_DES as CARG_DES,
    V_PERSONA.ESTR_DES as ESTR_DES,
    V_PERSONA.PERS_NOM as PERS_NOM,
    SOLI.SOLI_SEC as SOLI_SEC,
    SOLI.SOLI_ASU as SOLI_ASU,
    SOLI.SOLI_DES as SOLI_DES,
    SOLI.SOLI_NUM as SOLI_NUM,
    SOLI.SOLI_TIP as SOLI_TIP,
    SOLI.SOLI_EST as SOLI_EST,
    SOLI.SOLI_BAS_CON as SOLI_BAS_CON,
    SOLI.SOLI_SOL as SOLI_SOL,
    SOLI.SOLO_PRI as SOLO_PRI,
    SOLI.SOLO_IMP as SOLO_IMP,
    SOLI.SOLI_EXT as SOLI_EXT,
    SOLI.SOLI_VNC as SOLI_VNC,
    SOLI.SOLI_FEC as SOLI_FEC,
    SOLI.SOLI_FEC_FIN as SOLI_FEC_FIN,
    SOLI.REQU_SEC as REQU_SEC,
    SOLI.ESTR_SEC_ORI as ESTR_SEC_ORI,
    SOLI.ESTR_SEC_DES as ESTR_SEC_DES,
    SOLI_SEG.PERS_SEC as PERS_SEC,
    SOLI_SEG.SOLI_SEG_SEC as SOLI_SEG_SEC
 from V_PERSONA V_PERSONA,
    SOLI SOLI,
    SOLI_SEG SOLI_SEG
 where SOLI.PERS_SEC=V_PERSONA.PERS_SEC
     and SOLI_SEG.SOLI_SEC=SOLI.SOLI_SEC






SELECT * FROM SOLI_SEG WHERE SOLI_SEC = 8 AND SOLI_SEG_SEC = (SELECT MAX(SOLI_SEG_SEC) FROM SOLI_SEG WHERE SOLI_SEC = 8)

CREATE OR REPLACE FUNCTION F_PERS_SEG (P_SOLI_SEC NUMBER)
RETURN NUMBER
IS
     V_SOLI_SEC NUMBER(10);
BEGIN
     SELECT SOLI_SEC INTO P_SOLI_SEC
     FROM SOLI_SEG
     WHERE V_SOLI_SEC = P_SOLI_SEC AND PERS_SEC = 
END;